{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","isMenu","buttonCount","simplifyUrl","url","replace","writeBack","string","stringify","setItem","render","remove","i","length","forEach","item","index","$li","logo","toLocaleUpperCase","text","insertBefore","Array","from","document","querySelectorAll","addEventListener","e","preventDefault","currentTarget","previousSibling","style","display","classValue","getAttribute","newValue","window","prompt","splice","onbeforeunload","on","alert","push","key","toLocaleLowerCase","open"],"mappings":"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","file":"main.d10f4e74.js","sourceRoot":"../src","sourcesContent":["const $siteList = $('.siteList')\nconst $lastLi = $siteList.find('li.last')\nconst x = localStorage.getItem('x')\nconst xObject = JSON.parse(x)\nconst hashMap = xObject || []\nlet isMenu = []\nconst buttonCount = 3\n\nconst simplifyUrl = (url) => {\n    return url\n        .replace('http:', '')\n        .replace('https:', '')\n        .replace('//', '')\n        .replace('www.', '')\n        .replace(/\\/.*/, '')\n}\n\nconst writeBack = () => {\n    const string = JSON.stringify(hashMap)\n    localStorage.setItem('x', string)\n}\n\nconst render = () => {\n    $siteList.find('li:not(.last)')\n             .remove()\n    for (let i = 0; i < hashMap.length; i ++) {\n        isMenu[i] = false\n    }\n    hashMap.forEach((item, index) => {\n        const $li = $(`\n            <li>\n                <a href=\"${'//' + item.url}\">\n                    <div class=\"menu\">\n                        <div class=\"select\">\n                            <div class=\"modifyDomainNameButton\">修改域名</div>\n                            <div class=\"modifyNameButton\">修改备注</div>\n                            <div class=\"deleteButton\">删除</div>\n                        </div>\n                        <svg class=\"icon\" aria-hidden=\"true\">\n                            <use xlink:href=\"#icon-more\"></use>\n                        </svg>\n                    </div>\n                    <div class=\"site\">\n                        <div class=\"logo\">${item.logo.toLocaleUpperCase()}</div>\n                        <div class=\"text\">${item.text}</div>\n                    </div>\n                </a>\n            </li>\n    `).insertBefore($lastLi)\n    })\n\n    Array.from(document.querySelectorAll('.siteList a .icon')).forEach((item, index) => {\n        item.addEventListener('click', (e) => {\n            e.preventDefault()\n            if (e.currentTarget.previousSibling.previousSibling !== null) {\n                e.currentTarget.previousSibling.previousSibling.style.display = !isMenu[index] ? \"block\" : \"none\"\n            }\n            isMenu[index] = !isMenu[index]\n        })\n    })\n\n    Array.from(document.querySelectorAll('.menu [class$=Button]')).forEach((item, index) => {\n        item.addEventListener('click', (e) => {\n            e.preventDefault()\n            const classValue = e.currentTarget.getAttribute(\"class\")\n            if (classValue === 'modifyDomainNameButton') {\n                const newValue =  window.prompt(\"input the new Domain Name\")\n                if (newValue) hashMap[index / buttonCount >> 0].url = simplifyUrl(newValue)\n            } else if (classValue === 'modifyNameButton') {\n                const newValue = window.prompt(\"input the new Name\")\n                if (newValue) hashMap[index / buttonCount >> 0].text = newValue;\n            } else if (classValue === 'deleteButton'){\n                hashMap.splice(index / buttonCount >> 0, 1)\n            }\n            writeBack()\n            render()\n        })\n    })\n}\n\nwindow.onbeforeunload = writeBack\n\n$('.addButton').on('click', () => {\n    if (hashMap.length >= 8) {\n        alert(\"快捷方式不能超过8个\")\n        return\n    }\n    let url = window.prompt('请输入域名')\n    let text = window.prompt('请输入名称')\n    if (url !== null && text != null) {\n        hashMap.push({logo: simplifyUrl(url)[0], url: simplifyUrl(url), text: text})\n        writeBack()\n        render()\n    }\n})\n\ndocument.addEventListener('keypress', e => {\n    const {key} = e\n    hashMap.forEach((item, index) => {\n        if (item.logo.toLocaleLowerCase() ===key) {\n            window.open('//' + item.url)\n            return\n        }\n    })\n})\n\nrender()"]}